# Commands: Source Management

## 📋 测试信息

- **测试文件**: `src/test/suite/commands/commands-sourceManagement.test.ts`
- **测试目标**: 验证规则源管理命令集

## 🧪 测试场景

### 1. 添加公开仓库源
**步骤**:
- 输入源 ID
- 输入公开 GitHub URL
- 选择分支

**验证**:
- ✅ 源添加成功
- ✅ 配置保存
- ✅ TreeView 刷新

### 2. 切换源启用状态
**步骤**:
- 右键点击源
- 选择"启用/禁用"

**验证**:
- ✅ enabled 字段切换
- ✅ TreeView 图标更新
- ✅ 禁用的源不同步

### 3. 重复 URL 检测
**步骤**:
- 添加已存在的 Git URL

**验证**:
- ✅ 显示警告 "URL 已存在"
- ✅ 拒绝重复添加

### 4. 保留源配置更新
**步骤**:
- 更新源的某个字段（如分支）
- 其他字段（如认证）保持不变

**验证**:
- ✅ 仅更新目标字段
- ✅ 其他配置不丢失

## 🎯 关键验证点

- ✅ 源 CRUD 操作
- ✅ 重复检测
- ✅ 状态切换
- ✅ 配置完整性

---
