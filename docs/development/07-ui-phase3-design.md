# UI Phase 3: äº¤äº’ä¼˜åŒ–è®¾è®¡

## æ¦‚è¿°

Phase 3 ä¸“æ³¨äºæå‡ç”¨æˆ·äº¤äº’ä½“éªŒï¼Œå¢å¼ºé«˜çº§åŠŸèƒ½çš„å¯ç”¨æ€§å’Œæ•ˆç‡ã€‚

**è®¾è®¡åŸåˆ™**ï¼š

- ä¼ªä»£ç ç¤ºæ„ï¼Œä¸åŒ…å«å…·ä½“ä¸šåŠ¡å®ç°
- éµå¾ª VS Code äº¤äº’è§„èŒƒ
- ä¼˜åŒ–å¤§æ•°æ®é›†åœºæ™¯ä¸‹çš„æ€§èƒ½
- ä¿æŒä¸ Phase 1/2 ä¸€è‡´çš„è§†è§‰é£æ ¼

---

## ä»»åŠ¡åˆ—è¡¨

### Task 1: é«˜çº§æœç´¢ Webview â­ ä¼˜å…ˆçº§é«˜

**ç›®æ ‡**ï¼šæä¾›å¼ºå¤§çš„å¤šæ¡ä»¶æœç´¢ç•Œé¢ï¼Œæ›¿ä»£ç®€å•çš„å¿«é€Ÿé€‰æ‹©å™¨ã€‚

**åŠŸèƒ½éœ€æ±‚**ï¼š

1. å¤šæ¡ä»¶ç»„åˆæœç´¢ï¼ˆåç§°/å†…å®¹/æ ‡ç­¾/ä¼˜å…ˆçº§/æ¥æºï¼‰
2. æœç´¢å†å²è®°å½•ï¼ˆæœ€è¿‘ 10 æ¬¡ï¼‰
3. å¿«æ·è¿‡æ»¤å™¨ï¼ˆé«˜ä¼˜å…ˆçº§ã€å·²å¿½ç•¥ã€ç‰¹å®šæ¥æºï¼‰
4. å®æ—¶æœç´¢ç»“æœé¢„è§ˆ
5. ç»“æœå¯¼å‡ºï¼ˆJSON/CSVï¼‰

**ç•Œé¢å¸ƒå±€**ï¼ˆASCIIï¼‰ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Advanced Rule Search                        [x] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Search Conditions                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Name:      [________________] ğŸ”          â”‚   â”‚
â”‚ â”‚ Content:   [________________]             â”‚   â”‚
â”‚ â”‚ Tags:      [tag1, tag2...   ]             â”‚   â”‚
â”‚ â”‚ Priority:  [ All â–¼] Source: [ All â–¼]     â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                   â”‚
â”‚ Quick Filters: [High Priority] [Ignored] [Reset]â”‚
â”‚                                                   â”‚
â”‚ Search History                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â€¢ "authentication rules" - 2 results      â”‚   â”‚
â”‚ â”‚ â€¢ "high priority" - 15 results            â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                   â”‚
â”‚ Results (23 found)              [Export â–¼]       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ”¥ auth/jwt-validation.mdc          [View]â”‚   â”‚
â”‚ â”‚    Source: company-rules | Tags: auth    â”‚   â”‚
â”‚ â”‚ âš ï¸  security/input-sanitize.mdc     [View]â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ•°æ®æµ**ï¼ˆä¼ªä»£ç ï¼‰ï¼š

```typescript
// æœç´¢æ¡ä»¶æ¥å£
interface SearchCriteria {
  namePattern?: string;
  contentPattern?: string;
  tags?: string[];
  priority?: number;
  source?: string;
}

// æœç´¢æ–¹æ³•ä¼ªä»£ç 
function performSearch(criteria: SearchCriteria): SearchResult[] {
  let results = getAllRules();

  if (criteria.namePattern) {
    results = results.filter((rule) => rule.name.includes(criteria.namePattern));
  }

  if (criteria.contentPattern) {
    results = results.filter((rule) => rule.content.includes(criteria.contentPattern));
  }

  // ... å…¶ä»–è¿‡æ»¤æ¡ä»¶

  return results;
}

// æœç´¢å†å²ç®¡ç†
class SearchHistory {
  private history: SearchCriteria[] = [];

  add(criteria: SearchCriteria): void {
    // æ·»åŠ åˆ°å†å²è®°å½•ï¼Œæœ€å¤šä¿ç•™10æ¡
    this.history.unshift(criteria);
    if (this.history.length > 10) {
      this.history.pop();
    }
  }

  get recent(): SearchCriteria[] {
    return this.history;
  }
}
```

---

### Task 2: é…ç½®ç®¡ç† Webview â­ ä¼˜å…ˆçº§é«˜

**ç›®æ ‡**ï¼šæä¾›å›¾å½¢åŒ–é…ç½®ç•Œé¢ï¼Œç®€åŒ–å¤æ‚é…ç½®é¡¹çš„è®¾ç½®ã€‚

**åŠŸèƒ½éœ€æ±‚**ï¼š

1. æºç®¡ç†ï¼ˆæ·»åŠ /ç¼–è¾‘/åˆ é™¤/æ’åºï¼‰
2. é€‚é…å™¨é…ç½®ï¼ˆå¯ç”¨/ç¦ç”¨/è‡ªå®šä¹‰è¾“å‡ºè·¯å¾„ï¼‰
3. åŒæ­¥è®¾ç½®ï¼ˆè‡ªåŠ¨åŒæ­¥é—´éš”ã€å¿½ç•¥æ¨¡å¼ï¼‰
4. éªŒè¯å’Œé”™è¯¯æç¤º
5. é…ç½®å¯¼å…¥/å¯¼å‡º

**ç•Œé¢å¸ƒå±€**ï¼ˆASCIIï¼‰ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸  Configuration Manager              [Save] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Sources] [Adapters] [Sync] [Advanced]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Rule Sources (3)                    [+ Add]     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â‰¡ company-rules                           â”‚   â”‚
â”‚ â”‚   ğŸ“ github.com/company/ai-rules          â”‚   â”‚
â”‚ â”‚   Branch: main | Status: âœ… Synced        â”‚   â”‚
â”‚ â”‚   [Edit] [Remove] [â†‘] [â†“]                 â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ â‰¡ personal-rules                          â”‚   â”‚
â”‚ â”‚   ğŸ“ github.com/user/my-rules             â”‚   â”‚
â”‚ â”‚   Branch: develop | Status: ğŸ”„ Syncing    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                   â”‚
â”‚ Adapters                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [âœ“] Copilot    Output: .github/           â”‚   â”‚
â”‚ â”‚ [âœ“] Cursor     Output: .cursorrules       â”‚   â”‚
â”‚ â”‚ [ ] Continue   Output: .continue/         â”‚   â”‚
â”‚ â”‚ [ ] Custom     [Configure...]             â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é…ç½®éªŒè¯**ï¼ˆä¼ªä»£ç ï¼‰ï¼š

```typescript
// é…ç½®éªŒè¯å™¨
class ConfigValidator {
  validateSource(source: RuleSource): ValidationResult {
    const errors: string[] = [];

    if (!isValidUrl(source.url)) {
      errors.push('Invalid repository URL');
    }

    if (source.subPath && !source.subPath.startsWith('/')) {
      errors.push('Subpath must start with /');
    }

    return { valid: errors.length === 0, errors };
  }

  validateAdapterConfig(config: AdapterConfig): ValidationResult {
    // éªŒè¯é€‚é…å™¨é…ç½®
    // - è¾“å‡ºè·¯å¾„ä¸å†²çª
    // - è‡ªå®šä¹‰é€‚é…å™¨æœ‰æ•ˆ
    // - è‡³å°‘å¯ç”¨ä¸€ä¸ªé€‚é…å™¨
  }
}

// é…ç½®æŒä¹…åŒ–
class ConfigPersistence {
  async save(config: ExtensionConfig): Promise<void> {
    // ä¿å­˜åˆ° workspace configuration
    await vscode.workspace
      .getConfiguration('turbo-ai-rules')
      .update('sources', config.sources, vscode.ConfigurationTarget.Workspace);
  }

  async export(filePath: string): Promise<void> {
    // å¯¼å‡ºä¸º JSON æ–‡ä»¶
    const config = this.getCurrentConfig();
    await fs.writeFile(filePath, JSON.stringify(config, null, 2));
  }
}
```

---

### Task 3: æ ‘è§†å›¾æ‰¹é‡æ“ä½œ

**ç›®æ ‡**ï¼šæ”¯æŒå¤šé€‰å’Œæ‰¹é‡æ“ä½œï¼Œæå‡ç®¡ç†æ•ˆç‡ã€‚

**åŠŸèƒ½éœ€æ±‚**ï¼š

1. å¤šé€‰æ”¯æŒï¼ˆCtrl/Cmd + Clickï¼‰
2. æ‰¹é‡å¯ç”¨/ç¦ç”¨
3. æ‰¹é‡å¯¼å‡º
4. æ‰¹é‡åˆ é™¤ï¼ˆå¸¦ç¡®è®¤ï¼‰
5. å…¨é€‰/åé€‰å¿«æ·é”®

**äº¤äº’æµç¨‹**ï¼ˆä¼ªä»£ç ï¼‰ï¼š

```typescript
// æ ‘èŠ‚ç‚¹é€‰æ‹©ç®¡ç†
class TreeSelectionManager {
  private selectedItems: Set<TreeItem> = new Set();

  toggleSelection(item: TreeItem, multiSelect: boolean): void {
    if (multiSelect) {
      if (this.selectedItems.has(item)) {
        this.selectedItems.delete(item);
      } else {
        this.selectedItems.add(item);
      }
    } else {
      this.selectedItems.clear();
      this.selectedItems.add(item);
    }

    this.updateUI();
  }

  selectAll(): void {
    this.selectedItems = new Set(this.getAllItems());
  }

  getSelectedCount(): number {
    return this.selectedItems.size;
  }
}

// æ‰¹é‡æ“ä½œ
class BatchOperations {
  async disableRules(rules: ParsedRule[]): Promise<void> {
    const confirmed = await vscode.window.showWarningMessage(
      `Disable ${rules.length} rules?`,
      { modal: true },
      'Disable',
    );

    if (confirmed === 'Disable') {
      await Promise.all(rules.map((rule) => configManager.disableRule(rule.path)));

      vscode.window.showInformationMessage(`Successfully disabled ${rules.length} rules`);
    }
  }

  async exportRules(rules: ParsedRule[]): Promise<void> {
    const exportPath = await vscode.window.showSaveDialog({
      defaultUri: vscode.Uri.file('rules-export.json'),
      filters: { JSON: ['json'] },
    });

    if (exportPath) {
      const data = rules.map((rule) => ({
        name: rule.name,
        content: rule.content,
        metadata: rule.metadata,
      }));

      await fs.writeFile(exportPath.fsPath, JSON.stringify(data, null, 2));
    }
  }
}
```

**ç•Œé¢æç¤º**ï¼š

```
æ ‘è§†å›¾å·¥å…·æ æ–°å¢ï¼š
[âœ“] Select All    - å…¨é€‰å½“å‰è§†å›¾
[â—»ï¸] Deselect All - æ¸…é™¤é€‰æ‹©
[ğŸ—‘ï¸] Batch Delete  - æ‰¹é‡åˆ é™¤ï¼ˆä»…é€‰ä¸­é¡¹å¯è§æ—¶æ˜¾ç¤ºï¼‰

åº•éƒ¨çŠ¶æ€ï¼š
"3 rules selected" - æ˜¾ç¤ºé€‰ä¸­æ•°é‡
```

---

### Task 4: æ‹–æ”¾æ’åº

**ç›®æ ‡**ï¼šå…è®¸é€šè¿‡æ‹–æ”¾è°ƒæ•´æºçš„ä¼˜å…ˆçº§é¡ºåºã€‚

**åŠŸèƒ½éœ€æ±‚**ï¼š

1. æ‹–æ”¾æºèŠ‚ç‚¹é‡æ–°æ’åº
2. æ‹–æ”¾è§„åˆ™åˆ°ä¸åŒæºï¼ˆç§»åŠ¨ï¼‰
3. è§†è§‰åé¦ˆï¼ˆæ‹–åŠ¨é¢„è§ˆã€æ”¾ç½®æŒ‡ç¤ºå™¨ï¼‰
4. è‡ªåŠ¨ä¿å­˜æ–°é¡ºåº

**å®ç°æ€è·¯**ï¼ˆä¼ªä»£ç ï¼‰ï¼š

```typescript
// æ ‘è§†å›¾æ‹–æ”¾æ”¯æŒ
class RulesTreeDragAndDrop implements vscode.TreeDragAndDropController<TreeItem> {
  dropMimeTypes = ['application/vnd.code.tree.turboAiRulesExplorer'];
  dragMimeTypes = ['application/vnd.code.tree.turboAiRulesExplorer'];

  async handleDrag(source: TreeItem[], dataTransfer: vscode.DataTransfer): Promise<void> {
    // åºåˆ—åŒ–æ‹–åŠ¨çš„é¡¹ç›®
    dataTransfer.set(this.dragMimeTypes[0], new vscode.DataTransferItem(source));
  }

  async handleDrop(target: TreeItem | undefined, dataTransfer: vscode.DataTransfer): Promise<void> {
    const transferItem = dataTransfer.get(this.dropMimeTypes[0]);
    if (!transferItem) return;

    const draggedItems = transferItem.value;

    // é‡æ–°æ’åºé€»è¾‘
    if (isSourceNode(target)) {
      await this.reorderSources(draggedItems, target);
    } else if (isRuleNode(target)) {
      await this.moveRule(draggedItems[0], target);
    }

    // åˆ·æ–°è§†å›¾
    this.refresh();
  }

  private async reorderSources(draggedSources: TreeItem[], targetSource: TreeItem): Promise<void> {
    const config = configManager.getConfig();
    const sources = [...config.sources];

    // è®¡ç®—æ–°çš„ç´¢å¼•ä½ç½®
    const dragIndex = sources.findIndex((s) => s === draggedSources[0].source);
    const dropIndex = sources.findIndex((s) => s === targetSource.source);

    // ç§»åŠ¨æ•°ç»„å…ƒç´ 
    const [removed] = sources.splice(dragIndex, 1);
    sources.splice(dropIndex, 0, removed);

    // ä¿å­˜æ–°é¡ºåº
    await configManager.updateSourceOrder(sources);
  }
}
```

**è§†è§‰åé¦ˆ**ï¼š

- æ‹–åŠ¨æ—¶æ˜¾ç¤ºåŠé€æ˜é¢„è§ˆ
- æ”¾ç½®ä½ç½®æ˜¾ç¤ºè“è‰²çº¿æ¡æŒ‡ç¤ºå™¨
- ä¸å…è®¸æ”¾ç½®æ—¶æ˜¾ç¤ºç¦æ­¢å›¾æ ‡

---

## æ€§èƒ½ä¼˜åŒ–

### è™šæ‹Ÿæ»šåŠ¨

å¯¹äºå¤§é‡æœç´¢ç»“æœï¼ˆ>100 æ¡ï¼‰ï¼Œä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ï¼š

```typescript
// è™šæ‹Ÿæ»šåŠ¨å®ç°
class VirtualScroller {
  private visibleRange = { start: 0, end: 50 };
  private itemHeight = 60; // æ¯é¡¹é«˜åº¦ï¼ˆpxï¼‰

  render(items: any[], scrollTop: number): string {
    const startIndex = Math.floor(scrollTop / this.itemHeight);
    const endIndex = startIndex + 50; // æ¸²æŸ“50é¡¹

    const visibleItems = items.slice(startIndex, endIndex);
    const offsetY = startIndex * this.itemHeight;

    return `
      <div style="height: ${items.length * this.itemHeight}px">
        <div style="transform: translateY(${offsetY}px)">
          ${visibleItems.map((item) => this.renderItem(item)).join('')}
        </div>
      </div>
    `;
  }
}
```

### é˜²æŠ–æœç´¢

é¿å…é¢‘ç¹è§¦å‘æœç´¢ï¼š

```typescript
class SearchDebouncer {
  private timer: NodeJS.Timeout | null = null;
  private delay = 300; // 300ms å»¶è¿Ÿ

  debounce(fn: () => void): void {
    if (this.timer) {
      clearTimeout(this.timer);
    }

    this.timer = setTimeout(() => {
      fn();
      this.timer = null;
    }, this.delay);
  }
}
```

---

## æ¶ˆæ¯åè®®

### SearchWebview æ¶ˆæ¯

```typescript
// Webview -> Extension
type SearchMessage =
  | { type: 'search'; criteria: SearchCriteria }
  | { type: 'exportResults'; format: 'json' | 'csv' }
  | { type: 'viewRule'; rulePath: string }
  | { type: 'loadHistory' };

// Extension -> Webview
type SearchResponse =
  | { type: 'searchResults'; results: SearchResult[] }
  | { type: 'searchHistory'; history: SearchCriteria[] }
  | { type: 'error'; message: string };
```

### ConfigWebview æ¶ˆæ¯

```typescript
// Webview -> Extension
type ConfigMessage =
  | { type: 'addSource'; source: RuleSource }
  | { type: 'updateSource'; index: number; source: RuleSource }
  | { type: 'removeSource'; index: number }
  | { type: 'reorderSources'; fromIndex: number; toIndex: number }
  | { type: 'updateAdapter'; adapter: string; enabled: boolean }
  | { type: 'saveConfig'; config: ExtensionConfig }
  | { type: 'exportConfig'; filePath: string }
  | { type: 'importConfig'; filePath: string };

// Extension -> Webview
type ConfigResponse =
  | { type: 'configData'; config: ExtensionConfig }
  | { type: 'validationError'; field: string; message: string }
  | { type: 'saved' }
  | { type: 'error'; message: string };
```

---

## æµ‹è¯•æ¸…å•

### SearchWebview

- [ ] å•æ¡ä»¶æœç´¢æ­£å¸¸å·¥ä½œ
- [ ] å¤šæ¡ä»¶ç»„åˆæœç´¢å‡†ç¡®
- [ ] æœç´¢å†å²æ­£ç¡®ä¿å­˜å’ŒåŠ è½½
- [ ] å¿«æ·è¿‡æ»¤å™¨ç”Ÿæ•ˆ
- [ ] ç»“æœå¯¼å‡ºåŠŸèƒ½æ­£å¸¸
- [ ] å¤§æ•°æ®é›†ï¼ˆ1000+è§„åˆ™ï¼‰æ€§èƒ½è‰¯å¥½
- [ ] å®æ—¶æœç´¢ä¸å¡é¡¿ï¼ˆé˜²æŠ–ç”Ÿæ•ˆï¼‰

### ConfigWebview

- [ ] æºçš„æ·»åŠ /ç¼–è¾‘/åˆ é™¤æ­£å¸¸
- [ ] æºé¡ºåºè°ƒæ•´ä¿å­˜æ­£ç¡®
- [ ] é€‚é…å™¨å¯ç”¨/ç¦ç”¨ç”Ÿæ•ˆ
- [ ] é…ç½®éªŒè¯æç¤ºå‡†ç¡®
- [ ] é…ç½®å¯¼å…¥/å¯¼å‡ºå®Œæ•´
- [ ] é”™è¯¯å¤„ç†å‹å¥½

### æ‰¹é‡æ“ä½œ

- [ ] å¤šé€‰åŠŸèƒ½æ­£å¸¸
- [ ] æ‰¹é‡å¯ç”¨/ç¦ç”¨ç”Ÿæ•ˆ
- [ ] æ‰¹é‡å¯¼å‡ºå®Œæ•´
- [ ] æ‰¹é‡åˆ é™¤å¸¦ç¡®è®¤
- [ ] å…¨é€‰/åé€‰å¿«æ·é”®å·¥ä½œ

### æ‹–æ”¾æ’åº

- [ ] æºæ‹–æ”¾é‡æ’åºæˆåŠŸ
- [ ] è§„åˆ™æ‹–æ”¾ç§»åŠ¨æˆåŠŸ
- [ ] è§†è§‰åé¦ˆæ¸…æ™°
- [ ] ä¸å…è®¸çš„æ“ä½œè¢«é˜»æ­¢
- [ ] æ–°é¡ºåºæ­£ç¡®ä¿å­˜

---

## é›†æˆè®¡åˆ’

### å‘½ä»¤æ³¨å†Œ

```json
{
  "commands": [
    {
      "command": "turbo-ai-rules.advancedSearch",
      "title": "Advanced Rule Search",
      "category": "Turbo AI Rules"
    },
    {
      "command": "turbo-ai-rules.openConfig",
      "title": "Open Configuration",
      "category": "Turbo AI Rules"
    },
    {
      "command": "turbo-ai-rules.batchDisable",
      "title": "Batch Disable Rules",
      "category": "Turbo AI Rules"
    }
  ]
}
```

### å¿«æ·é”®

```json
{
  "keybindings": [
    {
      "command": "turbo-ai-rules.advancedSearch",
      "key": "ctrl+shift+f",
      "mac": "cmd+shift+f",
      "when": "view == turboAiRulesExplorer"
    },
    {
      "command": "turbo-ai-rules.openConfig",
      "key": "ctrl+shift+,",
      "mac": "cmd+shift+,",
      "when": "view == turboAiRulesExplorer"
    }
  ]
}
```

### å·¥å…·æ æŒ‰é’®

- é«˜çº§æœç´¢å›¾æ ‡ï¼š`$(search)`
- é…ç½®ç®¡ç†å›¾æ ‡ï¼š`$(settings-gear)`
- æ‰¹é‡æ“ä½œå›¾æ ‡ï¼š`$(checklist)` ï¼ˆé€‰ä¸­é¡¹æ—¶æ˜¾ç¤ºï¼‰

---

## åç»­ä¼˜åŒ–å»ºè®®

1. **æ™ºèƒ½æœç´¢**ï¼šä½¿ç”¨æ¨¡ç³ŠåŒ¹é…ç®—æ³•ï¼ˆFuse.jsï¼‰æå‡æœç´¢ä½“éªŒ
2. **æœç´¢è¿‡æ»¤å™¨é¢„è®¾**ï¼šå…è®¸ä¿å­˜å¸¸ç”¨æœç´¢æ¡ä»¶ç»„åˆ
3. **é…ç½®æ¨¡æ¿**ï¼šæä¾›é¢„å®šä¹‰çš„é…ç½®æ¨¡æ¿ï¼ˆå…¬å¸ã€ä¸ªäººã€å›¢é˜Ÿï¼‰
4. **åä½œåŠŸèƒ½**ï¼šæ”¯æŒé…ç½®å…±äº«å’Œå›¢é˜ŸåŒæ­¥
5. **è§„åˆ™æ¨è**ï¼šåŸºäºé¡¹ç›®ç±»å‹æ¨èç›¸å…³è§„åˆ™

---

**çŠ¶æ€**: Phase 3 è®¾è®¡å®Œæˆï¼Œå¾…å®ç°
**ä¸‹ä¸€æ­¥**: å®ç° SearchWebviewProvider
