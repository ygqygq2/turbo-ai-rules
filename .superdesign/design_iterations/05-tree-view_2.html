<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è§„åˆ™æ ‘è§†å›¾ - v3 (è§„åˆ™åˆ—è¡¨è§†å›¾)</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@vscode/codicons@latest/dist/codicon.css"
    />
    <style>
      :root {
        --vscode-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica,
          Arial, sans-serif;
        --vscode-font-size: 13px;
        --vscode-foreground: #cccccc;
        --vscode-descriptionForeground: #8c8c8c;
        --vscode-sideBar-background: #252526;
        --vscode-list-hoverBackground: #2a2d2e;
        --vscode-focusBorder: #007fd4;
        --vscode-errorForeground: #f48771;
        --vscode-warningForeground: #cca700;
        --vscode-charts-green: #89d185;
        --row-height: 22px;
      }

      body {
        font-family: var(--vscode-font-family);
        font-size: var(--vscode-font-size);
        color: var(--vscode-foreground);
        background-color: var(--vscode-sideBar-background);
        margin: 0;
        padding: 2px 0;
      }

      .tree-container {
        height: 100vh;
        overflow-y: auto;
      }

      .tree-item {
        display: flex;
        align-items: center;
        height: var(--row-height);
        padding: 0 8px;
        cursor: pointer;
        user-select: none;
      }

      .tree-item:hover {
        background-color: var(--vscode-list-hoverBackground);
      }

      .tree-item.selected-row {
        background-color: var(--vscode-list-activeSelectionBackground);
      }

      .tree-item-chevron {
        width: 16px;
        text-align: center;
        margin-right: 4px;
      }

      .tree-item input[type='checkbox'] {
        margin: 0 6px 0 0;
        cursor: pointer;
      }

      .tree-item-icon {
        width: 16px;
        text-align: center;
        margin-right: 6px;
        font-size: 14px;
        font-style: normal;
        line-height: 1;
      }

      /* å›¾æ ‡é¢œè‰² - å·²é€‰ä¸­ */
      .icon-selected-high {
        color: var(--vscode-errorForeground); /* çº¢è‰² */
      }

      .icon-selected-medium {
        color: #75beff; /* è“è‰² */
      }

      .icon-selected-normal {
        color: var(--vscode-foreground); /* é»˜è®¤ */
      }

      /* å›¾æ ‡é¢œè‰² - æœªé€‰ä¸­ */
      .icon-unselected-high {
        color: var(--vscode-errorForeground); /* çº¢è‰² */
      }

      .icon-unselected-medium {
        color: var(--vscode-warningForeground); /* é»„è‰² */
      }

      .icon-unselected-normal {
        color: var(--vscode-foreground); /* é»˜è®¤ */
      }

      /* ä½¿ç”¨ emoji ä½œä¸ºå¤‡ç”¨å›¾æ ‡ */
      .emoji-icon {
        font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
      }
      .tree-item-label {
        flex-grow: 1;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .tree-item-description {
        margin-left: 8px;
        color: var(--vscode-descriptionForeground);
        font-size: 0.9em;
      }

      .tree-item-actions {
        display: none;
        margin-left: auto;
      }

      .tree-item:hover .tree-item-actions {
        display: flex;
        gap: 4px;
      }

      .indent-0 {
        padding-left: 8px;
      }
      .indent-1 {
        padding-left: 28px;
      }
    </style>
  </head>
  <body>
    <div class="tree-container">
      <!-- Source: my -->
      <div class="tree-item indent-0 selected-row">
        <div class="tree-item-chevron">â–¼</div>
        <div class="tree-item-label">my</div>
        <div class="tree-item-description">âœ“ å·²å¯ç”¨ â€¢ main â€¢ ğŸ“Š 2/31 å·²é€‰</div>
        <div class="tree-item-actions">ğŸ”„ ğŸ—‘ï¸</div>
      </div>

      <!-- Rules -->
      <div class="tree-children expanded">
        <!-- è§„åˆ™1: æœªé€‰ä¸­ - æ™®é€š -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-normal emoji-icon">ğŸ“„</div>
          <div class="tree-item-label">AI è§„åˆ™å®š - Copilot æŒ‡å¯¼è¯´æ˜</div>
        </div>

        <!-- è§„åˆ™2: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">é€šç”¨ç¼–ç è§„èŒƒ</div>
          <div class="tree-item-description">general, coding-standards â€¢ +2</div>
        </div>

        <!-- è§„åˆ™3: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">Python æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">python, flask â€¢ +3</div>
        </div>

        <!-- è§„åˆ™4: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">TypeScript æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">typescript, web-developm...</div>
        </div>

        <!-- è§„åˆ™5: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">JavaScript æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">javascript, es6 â€¢ +2</div>
        </div>

        <!-- è§„åˆ™6: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">Go æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">go, golang â€¢ +3</div>
        </div>

        <!-- è§„åˆ™7: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">è®¾è®¡ç³»ç»Ÿæœ€ä½³å®è·µ</div>
          <div class="tree-item-description">design-system, ui-ux â€¢ +4</div>
        </div>

        <!-- è§„åˆ™8: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">Git å·¥ä½œæµæœ€ä½³å®è·µ</div>
          <div class="tree-item-description">git, version-control â€¢ +3</div>
        </div>

        <!-- è§„åˆ™9: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">API æ–‡æ¡£æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">documentation, api-docs â€¢ +4</div>
        </div>

        <!-- è§„åˆ™10: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">React æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">react, hooks â€¢ +3</div>
        </div>

        <!-- è§„åˆ™11: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">Next.js æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">nextjs, react â€¢ +3</div>
        </div>

        <!-- è§„åˆ™12: å·²é€‰ä¸­ - é«˜ä¼˜å…ˆçº§ -->
        <div class="tree-item indent-1">
          <input type="checkbox" checked />
          <div class="tree-item-icon icon-selected-high emoji-icon">âœ…</div>
          <div class="tree-item-label">TypeScript + React + Tailwind CSS ç»„åˆæœ€ä½³â€¦</div>
          <div class="tree-item-description">âœ“ å·²é€‰</div>
        </div>

        <!-- è§„åˆ™13: å·²é€‰ä¸­ - é«˜ä¼˜å…ˆçº§ -->
        <div class="tree-item indent-1">
          <input type="checkbox" checked />
          <div class="tree-item-icon icon-selected-high emoji-icon">âœ…</div>
          <div class="tree-item-label">Next.js + TypeScript + Tailwind CSS ç»„åˆæœ€ä½³â€¦</div>
          <div class="tree-item-description">âœ“ å·²é€‰</div>
        </div>

        <!-- è§„åˆ™14: æœªé€‰ä¸­ - é«˜ä¼˜å…ˆçº§ï¼ˆç«ç„°ï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-high emoji-icon">ğŸ”¥</div>
          <div class="tree-item-label">VSCode æ‰©å±•æ¶æ„æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">vscode, extension â€¢ +...</div>
        </div>

        <!-- è§„åˆ™15: æœªé€‰ä¸­ - é«˜ä¼˜å…ˆçº§ï¼ˆç«ç„°ï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-high emoji-icon">ğŸ”¥</div>
          <div class="tree-item-label">VSCode æ‰©å±•ç¼–ç è§„èŒƒ</div>
          <div class="tree-item-description">vscode, coding-standar...</div>
        </div>

        <!-- è§„åˆ™16: æœªé€‰ä¸­ - é«˜ä¼˜å…ˆçº§ï¼ˆç«ç„°ï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-high emoji-icon">ğŸ”¥</div>
          <div class="tree-item-label">VSCode æ‰©å±•é”™è¯¯å¤„ç†è§„èŒƒ</div>
          <div class="tree-item-description">vscode, error-handlin...</div>
        </div>

        <!-- è§„åˆ™17: æœªé€‰ä¸­ - é«˜ä¼˜å…ˆçº§ï¼ˆç«ç„°ï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-high emoji-icon">ğŸ”¥</div>
          <div class="tree-item-label">VSCode æ‰©å±•å®‰å…¨è§„èŒƒ</div>
          <div class="tree-item-description">vscode, security â€¢ +2</div>
        </div>

        <!-- è§„åˆ™18: æœªé€‰ä¸­ - é«˜ä¼˜å…ˆçº§ï¼ˆç«ç„°ï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-high emoji-icon">ğŸ”¥</div>
          <div class="tree-item-label">VSCode æ‰©å±•æµ‹è¯•è§„èŒƒ</div>
          <div class="tree-item-description">vscode, testing â€¢ +3</div>
        </div>

        <!-- è§„åˆ™19: æœªé€‰ä¸­ - é«˜ä¼˜å…ˆçº§ï¼ˆç«ç„°ï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-high emoji-icon">ğŸ”¥</div>
          <div class="tree-item-label">VSCode æ‰©å±•æ–‡æ¡£è§„èŒƒ</div>
          <div class="tree-item-description">vscode, documentatio...</div>
        </div>

        <!-- è§„åˆ™20: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">PostgreSQL æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">postgresql, database â€¢ +3</div>
        </div>

        <!-- è§„åˆ™21: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">MongoDB æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">mongodb, nosql â€¢ +3</div>
        </div>

        <!-- è§„åˆ™22: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">RESTful API æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">rest, api â€¢ +3</div>
        </div>

        <!-- è§„åˆ™23: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">Jest æµ‹è¯•æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">jest, testing â€¢ +3</div>
        </div>

        <!-- è§„åˆ™24: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">Web åº”ç”¨å®‰å…¨æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">security, web-security â€¢...</div>
        </div>

        <!-- è§„åˆ™25: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">Docker æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">docker, containers â€¢ +3</div>
        </div>

        <!-- è§„åˆ™26: æœªé€‰ä¸­ - ä¸­ä¼˜å…ˆçº§ï¼ˆæ˜Ÿæ˜Ÿï¼‰ -->
        <div class="tree-item indent-1">
          <input type="checkbox" />
          <div class="tree-item-icon icon-unselected-medium emoji-icon">â­</div>
          <div class="tree-item-label">å¾®æœåŠ¡æ¶æ„æœ€ä½³å®è·µ</div>
          <div class="tree-item-description">microservices, architectur...</div>
        </div>
      </div>
    </div>

    <script>
      // å±•å¼€/æŠ˜å åŠŸèƒ½
      const chevron = document.querySelector('.tree-item-chevron');
      if (chevron) {
        chevron.addEventListener('click', (e) => {
          e.stopPropagation();
          const text = chevron.textContent;
          chevron.textContent = text === 'â–¼' ? 'â–¶' : 'â–¼';
          const children = document.querySelector('.tree-children');
          if (children) {
            children.style.display = children.style.display === 'none' ? 'block' : 'none';
          }
        });
      }

      // å¤é€‰æ¡†åŠŸèƒ½
      document.querySelectorAll('input[type="checkbox"]').forEach((checkbox) => {
        checkbox.addEventListener('change', (e) => {
          e.stopPropagation();
          const item = checkbox.closest('.tree-item');
          const iconWrapper = item.querySelector('.tree-item-icon');
          const description = item.querySelector('.tree-item-description');

          // è·å–å½“å‰å›¾æ ‡
          const currentIcon = iconWrapper.textContent.trim();

          if (checkbox.checked) {
            // é€‰ä¸­ï¼šæ”¹ä¸º âœ… å›¾æ ‡
            if (currentIcon === 'ğŸ”¥') {
              iconWrapper.className = 'tree-item-icon icon-selected-high emoji-icon';
            } else if (currentIcon === 'â­') {
              iconWrapper.className = 'tree-item-icon icon-selected-medium emoji-icon';
            } else {
              iconWrapper.className = 'tree-item-icon icon-selected-normal emoji-icon';
            }
            iconWrapper.textContent = 'âœ…';

            // æ›´æ–°æè¿°
            if (description) {
              const tags = description.textContent.trim();
              description.textContent = tags ? `âœ“ å·²é€‰ â€¢ ${tags}` : 'âœ“ å·²é€‰';
            } else {
              const newDesc = document.createElement('div');
              newDesc.className = 'tree-item-description';
              newDesc.textContent = 'âœ“ å·²é€‰';
              item.appendChild(newDesc);
            }
          } else {
            // å–æ¶ˆé€‰ä¸­ï¼šæ¢å¤åŸå›¾æ ‡
            const hasHighClass = iconWrapper.className.includes('high');
            const hasMediumClass = iconWrapper.className.includes('medium');

            if (hasHighClass) {
              iconWrapper.className = 'tree-item-icon icon-unselected-high emoji-icon';
              iconWrapper.textContent = 'ğŸ”¥';
            } else if (hasMediumClass) {
              iconWrapper.className = 'tree-item-icon icon-unselected-medium emoji-icon';
              iconWrapper.textContent = 'â­';
            } else {
              iconWrapper.className = 'tree-item-icon icon-unselected-normal emoji-icon';
              iconWrapper.textContent = 'ğŸ“„';
            }

            // ç§»é™¤"âœ“ å·²é€‰"
            if (description) {
              const text = description.textContent
                .replace(/âœ“ å·²é€‰\s*â€¢\s*/, '')
                .replace(/âœ“ å·²é€‰/, '');
              if (text.trim()) {
                description.textContent = text;
              } else {
                description.remove();
              }
            }
          }

          // æ›´æ–°æºèŠ‚ç‚¹çš„ç»Ÿè®¡ä¿¡æ¯
          updateSourceStats();
        });
      });

      // æ›´æ–°æºçš„ç»Ÿè®¡ä¿¡æ¯
      function updateSourceStats() {
        const allCheckboxes = document.querySelectorAll('.tree-children input[type="checkbox"]');
        const checkedCount = document.querySelectorAll(
          '.tree-children input[type="checkbox"]:checked',
        ).length;
        const totalCount = allCheckboxes.length;

        const sourceDesc = document.querySelector('.indent-0 .tree-item-description');
        if (sourceDesc) {
          const parts = sourceDesc.textContent.split('â€¢');
          if (parts.length >= 2) {
            parts[2] = ` ğŸ“Š ${checkedCount}/${totalCount} å·²é€‰`;
            sourceDesc.innerHTML = parts.join(' â€¢');
          }
        }
      }

      // è¡Œé€‰ä¸­åŠŸèƒ½ï¼ˆç‚¹å‡»è¡Œä½†ä¸æ˜¯å¤é€‰æ¡†ï¼‰
      document.querySelectorAll('.tree-item').forEach((item) => {
        item.addEventListener('click', (e) => {
          // å¦‚æœç‚¹å‡»çš„æ˜¯å¤é€‰æ¡†æˆ–chevronï¼Œä¸å¤„ç†
          if (e.target.tagName === 'INPUT' || e.target.closest('.tree-item-chevron')) return;

          // ç§»é™¤æ‰€æœ‰é€‰ä¸­çŠ¶æ€
          document.querySelectorAll('.tree-item.selected-row').forEach((selected) => {
            selected.classList.remove('selected-row');
          });

          // æ·»åŠ é€‰ä¸­çŠ¶æ€
          item.classList.add('selected-row');
        });
      });
    </script>
  </body>
</html>
